# üé¨ Cinema Hall

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–æ–º —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∞–Ω—Å–∞–º–∏, —Ñ–∏–ª—å–º–∞–º–∏ –∏ –∑–∞–ª–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Apache Kafka –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –∏ API Gateway –≤ –∫–∞—á–µ—Å—Ç–≤–µ –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **–Ø–∑—ã–∫**: Go 1.25.4
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Gin
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 15
- **ORM**: GORM
- **–û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π**: Apache Kafka
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (JSON Web Tokens)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: slog (structured logging)

### Infrastructure
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose
- **API Gateway**: Custom Gateway –Ω–∞ Gin

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- 5 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: User, Movie, Cinema, Booking, Gateway
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ Kafka

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ / –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤
![–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞](screenshots/main-page.png)
*–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ–∞–Ω—Å–∞—Ö*

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ–∞–Ω—Å–∞
![–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ–∞–Ω—Å–∞](screenshots/session-page.png)
*–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∞–Ω—Å–µ —Å –≤—ã–±–æ—Ä–æ–º –º–µ—Å—Ç*

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤
![–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](screenshots/booking-page.png)
*–ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –º–µ—Å—Ç*

### –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
![–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç](screenshots/profile-page.png)
*–ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º*

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤ –ø–∞–ø–∫—É `screenshots/` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –≤—ã—à–µ.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <repository-url>
cd cinema-hall
docker-compose up -d
./seed_data.sh
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: Docker 20.10+, Docker Compose 2.0+

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- Gateway: http://localhost:8085
- Kafka UI: http://localhost:8086

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**Base URL**: `http://localhost:8085`

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/auth/login` - –í—Ö–æ–¥ (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞)
- `GET /api/movies` - –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤
- `GET /api/sessions` - –°–ø–∏—Å–æ–∫ —Å–µ–∞–Ω—Å–æ–≤
- `GET /api/sessions/:id/aggregate` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∞–Ω—Å–µ
- `POST /api/bookings` - –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `POST /api/bookings/:id/confirm` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `POST /api/bookings/:id/cancel` - –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ [API_GUIDE.md](./API_GUIDE.md)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Gateway   ‚îÇ  (–ü–æ—Ä—Ç 8085)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚ñ∫ User Service (8080) ‚îÄ‚îÄ‚ñ∫ PostgreSQL
       ‚îú‚îÄ‚îÄ‚îÄ‚ñ∫ Movie Service (8083) ‚îÄ‚îÄ‚ñ∫ PostgreSQL
       ‚îú‚îÄ‚îÄ‚îÄ‚ñ∫ Cinema Service (8081) ‚îÄ‚îÄ‚ñ∫ PostgreSQL
       ‚îî‚îÄ‚îÄ‚îÄ‚ñ∫ Booking Service (8082) ‚îÄ‚îÄ‚ñ∫ PostgreSQL
                      ‚îÇ
                      ‚îî‚îÄ‚îÄ‚îÄ‚ñ∫ Kafka (9092) ‚îÄ‚îÄ‚ñ∫ Kafka UI (8086)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cinema-hall/
‚îú‚îÄ‚îÄ gateway/              # API Gateway
‚îú‚îÄ‚îÄ user-service/         # –°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ movie-service/        # –°–µ—Ä–≤–∏—Å —Ñ–∏–ª—å–º–æ–≤
‚îú‚îÄ‚îÄ cinema-service/       # –°–µ—Ä–≤–∏—Å –∫–∏–Ω–æ–∑–∞–ª–æ–≤
‚îú‚îÄ‚îÄ booking-service/      # –°–µ—Ä–≤–∏—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
‚îú‚îÄ‚îÄ docker-compose.yml    # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ seed_data.sh         # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

## üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- [–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ 1](https://github.com/username1) - –†–æ–ª—å/–≤–∫–ª–∞–¥
- [–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ 2](https://github.com/username2) - –†–æ–ª—å/–≤–∫–ª–∞–¥
- [–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ 3](https://github.com/username3) - –†–æ–ª—å/–≤–∫–ª–∞–¥

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ.